---
title: 状态机在程序设计中的应用
date: 2021-06-15 15:35:25
permalink: /pages/9f99f3/
categories:
  - 程序设计技巧
tags:
  - 
---
## 状态机在程序设计中的应用

### 什么是状态机？

有限状态机（Finite-State Machine，FSM），简称状态机，是表示有限个状态（State）以及在这些状态之间的转换（Transition）和动作（Action）等行为的数学模型。

有限状态机是一种用来进行对象行为建模的工具，其作用主要是描述对象在它的生命周期内所经历的状态序列，以及如何响应来自外界的各种事件。在计算机科学中，有限状态机被广泛用于建模应用行为、硬件电路系统设计、软件工程，编译器、网络协议、和计算与语言的研究。

### 五大核心

1. State：状态
	
	> 一个状态机至少要包含两个状态。状态一般情况下是成对存在，例如页面中的按钮会具有点击、未点击两个状态。
	
2. Event：事件

	> 事件就是执行某个操作的触发条件或者口令。鼠标点击按钮就是一个事件。

3. Guard：条件

	> 状态机对外部消息进行响应时，除了需要判断当前的状态，还需要判断跟这个状态相关的一些条件是否成立。这种判断称为 Guard（条件）。Guard 通过允许或者禁止某些操作来影响状态机的行为。

4. Action：动作

  > 执行操作或事件发生以后要执行动作。鼠标点击按钮、点击完成后所发生的事情。在程序中，一个 Action 一般就对应一个函数。

5. Transition：转换

  > 也就是从一个状态变化为另一个状态。按钮从未点击到点击是一个状态的转换。引起状态转换的事件被称为触发事件（triggering event），或者被简称为触发（trigger）。

::: tip
JavaScript 状态机工具库 

[javascript-state-machine](https//github.com/jakesgordon/javascript-state-machine)
:::

#### 如何构建状态机图

状态机图来说，基本要用到6个元素：

1. 起始
2. 终止
3. 状态
4. 历史状态
5. 动作
6. 条件

确定**起始**与**终止**状态，归纳所有引起**状态变化**的事件，以及**状态的变化**在不同的**条件**所执行的**动作**，并在此过程中保存必要的**历史状态**

#### 应用

状态机是一个对真实世界的抽象，而且是逻辑严谨的数学抽象

跟状态机类似的概念还有图灵机，图灵机就是计算机底层采用的计算模型。

#### 总结

状态机不是实际机器设备，而是一个数学模型，通常体现为一个状态转换图。涉及到的相关概念是 State 状态，Event 事件，Action 动作，Transition 转换。状态机是计算机科学的重要基础概念之一，也可以说是一种总结归纳问题的思想，应用范围非常广泛。