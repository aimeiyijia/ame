---
title: el-form-plus
date: 2021-09-19 23:40:17
permalink: /pages/a6d3f5/
categories:
  - Vue
  - Vue组件文档
tags:
  -
---

# el-form-plus

## 特性

1. **View**层与**Model**层进一步分离，让你更专注于**Model**层与**ViewModel**层
2. 插槽支持 jsx / h 函数二种方式，需环境支持。
3. 完全兼容 ElForm 及各表单控件，并做扩展。
4. 强大的自定义功能，充分满足个性化需求。
5. 表单，表单域内布局基于 ElLayout 布局，组件适用性强。

## :secret: 阅读本文档时之前的约定

- 表单：指 el-form
- 表单控件：包括 Input、Select、Checkbox 等
- 表单域：el-form-item + 表单控件
- 布局/布局行：el-row
- 布局列：el-col

熟知这些概念能帮助你更好的阅读本文档

## 安装和使用

安装

```js
npm install el-form-plus
```

引入

该组件强依赖于 element-ui 的 el-form 组件，请确保使用该组件前已引入 el-form

```js
import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'

import ElFormPlus from 'el-form-plus'

Vue.use(ElementUI)
Vue.use(ElFormPlus)
```

## 基础

### 用法

通过`options`配置项即可渲染出表单，默认会渲染**提交**与**重置**按钮
options 为对象数组，每个符合要求的配置对象均可渲染出一个表单域

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            // 表单项渲染类型 必需
            type: 'Input',
            // 表单项绑定的值（字段名） 必需
            field: 'input',
            // 初始值
            value: 'input初始值',
          },
        ],
      }
    },
  }
</script>
```

:::

### 双向绑定

除了在 options 表单项配置中的 value 指定值外，还可以通过使用 v-model 指令赋值（原生双向绑定）

:::demo

```vue
<template>
  <el-form-plus v-model="model" :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        model: {
          // 需要与配置项中的field一一对应
          input: '通过v-model绑定的值',
        },
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
          },
        ],
      }
    },
    mounted() {
      this.model.input = '在mounted周期中改变绑定的值'
    },
  }
</script>
```

:::

### 布局

该组件支持在一个表单域内渲染多个表单控件，在此前提下，布局将分为对表单域的布局及表单域内的布局

#### 对表单域的布局

对表单域的布局可通过 layout 配置项，layout 配置项支持 row 配置对应[Row Attributes](https://element.eleme.cn/#/zh-CN/component/layout#row-attributes),col 配置对应[Col Attributes](https://element.eleme.cn/#/zh-CN/component/layout#col-attributes)，每个表单域所占据的空间可通过表单域配置中的 config.col 完成

:::demo

```vue
<template>
  <el-form-plus :options="options" :layout="layout" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            // 表单项渲染类型 必需
            type: 'Input',
            // 表单项绑定的值（字段名） 必需
            field: 'input',
            // 初始值
            value: 'input初始值',
            config: {},
          },
          {
            // 表单项渲染类型 必需
            type: 'Input',
            // 表单项绑定的值（字段名） 必需
            field: 'otherInput',
            // 初始值
            value: 'otherInput初始值',
          },
        ],
        layout: {
          // 全局性的el-row属性
          // 分列间隔
          row: { gutter: 20 },
          // 全局性的el-col属性，优先级低于option中的各表单项配置
          // 每个el-form-item所占据的空间
          col: { span: 6 },
        },
      }
    },
  }
</script>
```

:::

#### 表单域内的布局

该组件支持在一个表单域内渲染多个表单项，那么这个表单域就有了布局的需要

此时需要在表单域配置项中配置 layout，请注意，不同于全局的 layout 配置项，此时的表单域 layout 对应[Row Attributes](https://element.eleme.cn/#/zh-CN/component/layout#row-attributes)，表单域配置 col 配置对应[Col Attributes](https://element.eleme.cn/#/zh-CN/component/layout#col-attributes)

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            // 表单项渲染类型 必需
            type: 'Input',
            // 表单项绑定的值（字段名） 必需
            field: 'input',
            // 初始值
            value: 'input初始值',
            layout: { gutter: 20 },
            col: { span: 6 },
            more: [
              {
                // 表单项渲染类型 必需
                type: 'Input',
                // 表单项绑定的值（字段名） 必需
                field: 'inputMore',
                // 初始值
                value: 'inputMore初始值',
                col: { span: 8 },
              },
            ],
          },
        ],
      }
    },
  }
</script>
```

:::

### 表单的整体配置

通过 config 配置项可配置表单，内置配置项（不支持 model）同[Form Attributes](https://element.eleme.io/#/zh-CN/component/form#form-attributes)

:::demo

```vue
<template>
  <el-form-plus :options="options" :config="config" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
          },
        ],
        config: {
          disabled: true,
        },
      }
    },
  }
</script>
```

:::

### 表单域的配置

通过表单域配置中的 config 属性即可设置，对应[Form-Item Attributes](https://element.eleme.io/#/zh-CN/component/form#form-item-attributes)

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
            config: {
              label: '输入框：',
              labelWidth: '80px',
            },
          },
        ],
      }
    },
  }
</script>
```

:::

### 表单控件属性

通过表单域配置中的 attrs 属性进行配置，不同的表单控件具有不同的配置，具体请查看 element-ui 中的各控件属性配置

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
            attrs: {
              type: 'textarea',
            },
          },
        ],
      }
    },
  }
</script>
```

:::

### 表单控件事件

表单控件事件均可通过表单项中的 on 属性来配置
在表单控件中输入值并打开控制台查看 input 事件日志

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
            on: {
              input: val => {
                console.log(val, 'input事件')
              },
            },
          },
        ],
      }
    },
  }
</script>
```

:::

### 表单控件插槽

表单控件事件均可通过表单项中的 scopedSlots 属性来配置

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
            scopedSlots: {
              // 支持h函数/jsx
              suffix: ({ h, value }) => {
                return h('div', '表单内头部内容')
              },
            },
          },
        ],
      }
    },
  }
</script>
```

:::

### 在一个表单域中渲染多个表单控件

利用 more 配置项可实现在一个表单域中渲染多个表单控件

:::demo

```vue
<template>
  <el-form-plus :options="options" />
</template>

<script>
  export default {
    data() {
      return {
        options: [
          {
            type: 'Input',
            field: 'input',
            value: 'input初始值',
            more: [
              {
                type: 'Input',
                field: 'moreinput',
                value: 'moreinput初始值',
              },
            ],
          },
        ],
      }
    },
  }
</script>
```

:::

## 进阶

### Radio 单选框

### Checkbox 多选框

### Input 输入框

### InputNumber 计数器

### Select选择器

### Cascader 级联选择器

### Switch 开关

### Slider 滑块

### TimePicker 事件选择器

### DatePicker 日期选择器

### DataTimePicker 日期时间选择器

### Upload 上传

### Rate 评分

### ColorPicker 颜色选择器

### Transfer 穿梭框
